package com.experion.service;
import java.util.Date;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Scanner;

import com.experion.entity.Product;

public class Service {
	 
	
	private static DateFormat formatter;
	private static Date date;

	public static Product createProduct() {
		
		
		Scanner scanner = new Scanner(System.in);
		
		SimpleDateFormat formatter=new SimpleDateFormat("dd/MM/yyyy");
		Date date=new Date();
		
		
		System.out.println("Enter the product code");
		String productCode = scanner.nextLine();
		

		System.out.println("Enter the product name");
		String productName = scanner.nextLine();
		
		
		System.out.println("Enter the product description");
		 String productDescription = scanner.nextLine();
		 
		 System.out.println("Enter the expiry date");
			String expiryDate = scanner.nextLine();
			
			 System.out.println("Enter the open date");
				String openDate = scanner.nextLine();
			
				 System.out.println("Enter the validity date");
					String validityDate = scanner.nextLine();
				
				
				System.out.println("Enter product active");
			boolean active = scanner.nextBoolean();
			
		 
		 Product product=new Product(productCode,productName,productDescription);
		 
		 product.setSerialNO(product.getSerialNO()+1);
		 product.setSerialNoOg(product.getSerialNO());
		 return product;
		 
		 
//		 product.setProductCode(productCode);
//		 product.setProductName(productName);
//		 product.setProductDescription(productDescription);
	}

	public static void  dispalyProductDetails(ArrayList<Product> productList) {
		for(Product product:productList)
		{
			if(formatter.format(date).isAfter(product.getExpiryDate()||formatter.format(date).isEqual(product.getExpiryDate())
					{
							product.setActive(false);
					}
			else
					{
							product.setActive(true);
					}
		}
		
		System.out.println("SerialNo"+ "  "+ "productName" + "		" + "productDescription" + "		" + "productPrice" + "		"
				+ "openDate" + "		" + "expiryDate");
		
		for(Product product:productList)
			if(product!=null) {
	
				System.out.println(product.getSerialNoOg()+"    "+     product.getProductCode() + "		" + product.getProductName() + "		" + product.getProductDescription()+"  " +product.getExpiryDate()+" "+product.isActive() );
			}
}}
